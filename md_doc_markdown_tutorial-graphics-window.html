<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="FineFramework (FFW) is an open source framework written in C++ designed for developing applications." />
		<meta name="author" content="Matus Novak">
		<link rel="icon" href="favicon.ico">
		<title>FineFramework - Documentation</title>
		<!-- Bootstrap core CSS -->
		<link href="bootstrap.css" rel="stylesheet">
		<!-- Custom styles for this template -->
		<link href="docs.css" rel="stylesheet">
		<script type="text/javascript" src="jquery.min.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
	</head>
	<body>
		<nav class="navbar sticky-top navbar-toggleable-md navbar-light bg-faded">
		<div class="container">
		  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		  </button>
		  <a class="navbar-brand" href="index.html">
			<img src="logo.png" width="60" height="30" alt="">
		  </a>
		  <div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
			  <li class="nav-item active"><a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a></li>
			  <li class="nav-item"><a class="nav-link" href="modules.html">Documentation</a></li>
			  <li class="nav-item"><a class="nav-link" href="md_doc_markdown_tutorials.html">Tutorials</a></li>
			  <li class="nav-item"><a class="nav-link" href="md_doc_markdown_examples.html">Examples</a></li>
			  <li class="nav-item"><a class="nav-link" href="md_doc_markdown_faq.html">F.A.Q</a></li>
			  <li class="nav-item"><a class="nav-link" href="https://github.com/matusnovak/fineframework">GitHub</a></li>
			</ul>
			<form class="form-inline my-2 my-lg-0">
			  <a class="btn btn-outline-primary" href="md_doc_markdown_download.html" role="button">Download</a>
			</form>
		  </div>
		</div>
		</nav>
		<div class="container" id="main"><div><!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutorial: Creating a Rendering Window </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This tutorial will explain how to create and manage an OpenGL rendering window using <a class="el" href="classffw_1_1_g_l_f_w_render_window.html">ffw::GLFWRenderWindow</a> class.</p>
<h3>Starting from scratch</h3>
<p>First, you need to include the necessary FFW header file. The FineFramework is separated into several modules: Graphics, Math, Data, Gui, etc... They are all independent, however, they all rely on the Math module. The header file you are looking for is <a class="el" href="graphics_8h.html">ffw/graphics.h</a></p>
<div class="fragment"><div class="line">#include &lt;ffw/graphics.h&gt;</div></div><!-- fragment --><blockquote class="doxtable">
<p>You don't need to include math module as well, it is automatically included by <b>all</b> modules. </p>
</blockquote>
<p>Next, we need to create our own class which will hold the functionality of the window. Simply, create a class derived from <a class="el" href="classffw_1_1_g_l_f_w_render_window.html">ffw::GLFWRenderWindow</a>.</p>
<div class="fragment"><div class="line">#include &lt;ffw/graphics.h&gt;</div><div class="line"></div><div class="line">class MyCustomClass: public ffw::GLFWRenderWindow {</div><div class="line">public:</div><div class="line">    MyCustomClass(){</div><div class="line">    }</div><div class="line"></div><div class="line">    ~MyCustomClass(){</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p>Next, you will need to override some basic method from <a class="el" href="classffw_1_1_g_l_f_w_render_window.html">ffw::GLFWRenderWindow</a>:</p><ul>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a1e282c45acb7d8ce3d1d0c2441f0e2f1" title="Called only once when the window is set up. ">ffw::GLFWRenderWindow::setup</a></b> - This method is called only once before the rendering begins. Put your code here that needs to be executed once.</li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a3e6badb607370da3adc99b42f88314ff" title="Called every time the frame is being rendered. ">ffw::GLFWRenderWindow::render</a></b> - This method is called each frame. If you want to render something, this is a place to put it in.</li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a05b0b6ad5e81f9f8f8ecaa401c72e7f5" title="Called only once when the window is being destroyed. ">ffw::GLFWRenderWindow::close</a></b> - This method is called only once when the window is begin destroyed. If you need to do a clean-up, this is a place for you.</li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#aae2eaed68878d28c04055b6080ffdbcc" title="Called when the user presses the [X] button on the window. ">ffw::GLFWRenderWindow::windowCloseEvent</a></b> - This mthod is called when you click on the [X] button on the window.</li>
</ul>
<div class="fragment"><div class="line">#include &lt;ffw/graphics.h&gt;</div><div class="line"></div><div class="line">class MyCustomClass: public ffw::GLFWRenderWindow {</div><div class="line">public:</div><div class="line">    MyCustomClass(){</div><div class="line">    }</div><div class="line"></div><div class="line">    ~MyCustomClass(){</div><div class="line">    }</div><div class="line"></div><div class="line">    bool setup() override {</div><div class="line">        // Return true or false</div><div class="line">        // true - Setup is OK</div><div class="line">        // false - Setup failed</div><div class="line">        return true;</div><div class="line">    }</div><div class="line"></div><div class="line">    void render() override {</div><div class="line">        this-&gt;setDrawColor(ffw::rgb(0xFF0000)); // Red color</div><div class="line">        this-&gt;drawRectangle(10, 10, getSize().x-20, getSize().y-20);</div><div class="line">    }</div><div class="line"></div><div class="line">    void close() override {</div><div class="line">        // Window is being destroyed</div><div class="line">    }</div><div class="line"></div><div class="line">    void windowCloseEvent() override {</div><div class="line">        std::cout &lt;&lt; &quot;Window close button pressed!&quot; &lt;&lt; std::endl;</div><div class="line">        // Let the window know that we want to be closed.</div><div class="line">        this-&gt;shouldClose(true);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p>All C++ applications need a main function</p>
<div class="fragment"><div class="line">#include &lt;ffw/graphics.h&gt;</div><div class="line"></div><div class="line">class MyCustomClass: public ffw::GLFWRenderWindow {</div><div class="line">public:</div><div class="line">    ...</div><div class="line">}</div><div class="line"></div><div class="line">int main(int argc, char *argv[]){</div><div class="line">    return 0;</div><div class="line">}</div></div><!-- fragment --><p>Inside of main, we will create an instance of our window. First, we need to set arguments for the window. These arguments define what the size of the window should be (or the position) when the window is created and so on. All the arguments and its description can be found here <a class="el" href="structffw_1_1_g_l_f_w_render_window_args.html">ffw::GLFWRenderWindowArgs</a>.</p>
<div class="fragment"><div class="line">#include &lt;ffw/graphics.h&gt;</div><div class="line"></div><div class="line">class MyCustomClass: public ffw::GLFWRenderWindow {</div><div class="line">public:</div><div class="line">    ...</div><div class="line">}</div><div class="line"></div><div class="line">int main(int argc, char *argv[]){</div><div class="line">    // Set arguments</div><div class="line">    ffw::GLFWRenderWindowArgs args;</div><div class="line">    // Set initial size to 400x400 pixels</div><div class="line">    args.size.set(400, 400);</div><div class="line">    // Set the window title to &quot;Empty Example&quot; (UTF-8 compatible)</div><div class="line">    args.title = &quot;Empty Example&quot;;</div><div class="line"></div><div class="line">    return 0;</div><div class="line">}</div></div><!-- fragment --><p>Lastly, we need to declare an instance of our window and write a code that will run the main loop. This will be explained below.</p>
<div class="fragment"><div class="line">#include &lt;ffw/graphics.h&gt;</div><div class="line"></div><div class="line">class MyCustomClass: public ffw::GLFWRenderWindow {</div><div class="line">public:</div><div class="line">    ...</div><div class="line">}</div><div class="line"></div><div class="line">int main(int argc, char *argv[]){</div><div class="line">    // Instance to our window class</div><div class="line">    MyCustomWindow myCustomWindow;</div><div class="line">    // Set arguments</div><div class="line">    ffw::GLFWRenderWindowArgs args;</div><div class="line">    args.size.Set(400, 400);</div><div class="line">    args.title = &quot;Empty Example&quot;;</div><div class="line">    // Create window</div><div class="line">    if(!myCustomWindow.create(args, NULL)){</div><div class="line">        std::cerr &lt;&lt; &quot;Failed to create window!&quot; &lt;&lt; std::endl;</div><div class="line">        return 1;</div><div class="line">    }</div><div class="line">    // Run setup</div><div class="line">    if(!myCustomWindow.setup()){</div><div class="line">        std::cerr &lt;&lt; &quot;Failed to setup window!&quot; &lt;&lt; std::endl;</div><div class="line">        return 1;</div><div class="line">    }</div><div class="line">    // The main window loop</div><div class="line">    while(myCustomWindow.shouldRender()){</div><div class="line">        myCustomWindow.renderFrame();</div><div class="line">        myCustomWindow.poolEvents();</div><div class="line">    }</div><div class="line">    // Destroy window, this will delete all graphics data used by the window.</div><div class="line">    // Must be called after the setup and before the graphics</div><div class="line">    // is terminated</div><div class="line">    myCustomWindow.destroy();</div><div class="line">    return 0;</div><div class="line">}</div></div><!-- fragment --><p>The <code>if(!myCustomWindow.create(args, NULL)){</code> will create a new rendering window. If this fails, your parameters are wrong (width or height is zero, etc...). This may also fail if your OS does not support OpenGL. In this case, it will print out "Failed to iniailize GLFW graphics!". If you are using remote connection over X11 on Linux, make sure your DISPLAY system variable is set.</p>
<p>The <code>if(!myCustomWindow.create(args, NULL)){</code> will set up necessary OpenGL environment for the window and then it will call your own overriden function <code>MyCustomClass::Setup()</code></p>
<p>The <code>while(myCustomWindow.shouldRender()){</code> will ask the window if we should continue rendering the window. The method is defined inside of ffw::GLFWRenderWindow::ShouldRender and will return false if one passed a 'true' into ffw::GLFWRenderWindow::ShouldClose method.</p>
<p>Inside of the loop, you need to call <code>myCustomWindow.renderFrame();</code> which will set the OpenGL viewport and then it will call myCustomWindow::Render() function. The <code>myCustomWindow.poolEvents();</code> will check for the user input.</p>
<p>Now, compile it and you should see something like this image below. If you are not sure how to compile FFW application or if you get any errors, please refer to the <a href="md_markdown_tutorials.html">Getting started section in tutorials</a>.</p>
<div class="image">
<img src="tutorial-vs12-05.png" alt="Alt"/>
</div>
<h3>Additional window event methods</h3>
<p>You might ask yourself, how do I get a mouse position? You will need to override a specific function inside of <a class="el" href="classffw_1_1_g_l_f_w_render_window.html">ffw::GLFWRenderWindow</a> and they are the following:</p>
<ul>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a7cc7bea67d33aa202bb66ae04e3daaa4" title="Called when the user presses a key to type text (unicode only) ">ffw::GLFWRenderWindow::textInputEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#ae96a6ee1b02e34ce56b72abf35727118" title="Called when the user presses a physical key. ">ffw::GLFWRenderWindow::keyPressedEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a57ce8aa5d43ba52e705b2cc303bfe844" title="Called when the user moves a mouse. ">ffw::GLFWRenderWindow::mouseMovedEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a3bc81f8aca844cc6f5c48940e6618b61" title="Called when the user scrolls down or up. ">ffw::GLFWRenderWindow::mouseScrollEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#ace21446d60282d4f29be403f4654d98c" title="Called when the user presses a mouse button. ">ffw::GLFWRenderWindow::mouseButtonEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a23874ff965329d5b1e5c21095255bb47" title="Called when the window is resized to a new size. ">ffw::GLFWRenderWindow::windowResizedEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#ab4c060cb7a1593f96ff4daaafe08d332" title="Called when the window is moved to a new position. ">ffw::GLFWRenderWindow::windowMovedEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#aae2eaed68878d28c04055b6080ffdbcc" title="Called when the user presses the [X] button on the window. ">ffw::GLFWRenderWindow::windowCloseEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a9109d479866278051350c973a9535e2d" title="Called when the window will gain or looses focus. ">ffw::GLFWRenderWindow::windowFocusEvent</a></b></li>
<li><b><a class="el" href="classffw_1_1_g_l_f_w_render_window.html#a73e68c1f7acca1e43e2f1a1461bee355" title="Called when the user drags and drops one or multiple files. ">ffw::GLFWRenderWindow::filesDroppedEvent</a></b></li>
</ul>
<p>They are self explanatory. To read more about each method, simply follow the link or look it up in the documentation of <a class="el" href="classffw_1_1_g_l_f_w_render_window.html">ffw::GLFWRenderWindow</a>.</p>
<p>To use the function, for example MouseMovedEvent (tracking the mouse position) simply add it into your class and mark is as <code>override</code></p>
<div class="fragment"><div class="line">#include &lt;ffw/graphics.h&gt;</div><div class="line"></div><div class="line">class MyCustomClass: public ffw::GLFWRenderWindow {</div><div class="line">public:</div><div class="line">    ...</div><div class="line">    void mouseMovedEvent(int mousex, int mousey) override {</div><div class="line">        std::cout &lt;&lt; &quot;Mouse moved to: &quot; &lt;&lt; mousex &lt;&lt; &quot;x&quot; &lt;&lt; mousey &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">    ...</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
	</div>
	<script src="tether.min.js"></script>
	<script src="bootstrap.min.js"></script>
	</body>
</html>